<!DOCTYPE html>
<html lang="da">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>FormueGuiden - Eksklusiv portefølje</title>
  <style>
    /* Kopieret CSS fra din index.html header/footer/menu for konsistens */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #f7f9fc;
      color: #333;
    }
    header {
      background-color: #0b1e3d;
      padding: 1rem 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      color: white;
      position: relative;
      z-index: 1000;
    }
    .logo {
      display: flex;
      align-items: center;
    }
    .logo-img {
      height: 88px;
      width: auto;
      display: block;
    }
    nav {
      position: relative;
    }
    ul.menu {
      list-style: none;
      display: flex;
      gap: 2rem;
    }
    ul.menu > li {
      position: relative;
    }
    ul.menu > li > a {
      color: white;
      text-decoration: none;
      font-weight: 500;
      padding: 0.5rem;
      display: block;
      transition: color 0.2s ease;
    }
    ul.menu > li:hover > a {
      color: #00ccff;
    }
    .dropdown {
      position: absolute;
      top: 100%;
      left: 0;
      background: white;
      padding: 1rem;
      border-radius: 6px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
      display: none;
      flex-direction: column;
      min-width: 200px;
      z-index: 999;
    }
    .dropdown a {
      color: #0b1e3d;
      text-decoration: none;
      padding: 0.4rem 0;
    }
    .dropdown a:hover {
      color: #0077cc;
    }
    ul.menu > li:hover .dropdown {
      display: flex;
    }
    main {
      max-width: 1100px;
      margin: 2rem auto 4rem;
      background: white;
      padding: 2rem;
      border-radius: 10px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
      color: #153c5d;
    }
    h1 {
      text-align: center;
      margin-bottom: 2rem;
      color: #0b1e3d;
      font-weight: 700;
    }
    #portfolioChart {
      max-width: 100%;
      height: 300px;
      margin-bottom: 2rem;
    }

    /* Pro kort styling */
    .pro-card {
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 1rem 1.5rem;
      margin-bottom: 1.5rem;
      background: #f9faff;
      box-shadow: 0 2px 6px rgba(11,30,61,0.1);
    }
    .pro-name {
      font-weight: 700;
      font-size: 1.25rem;
      color: #0b1e3d;
      margin-bottom: 1rem;
    }
    .stocks-list {
      list-style: none;
      padding-left: 0;
      margin-bottom: 1rem;
    }
    .stocks-list li {
      margin-bottom: 0.6rem;
      font-size: 1rem;
      display: flex;
      justify-content: space-between;
      flex-wrap: wrap;
    }
    .stock-name {
      font-weight: 600;
      color: #153c5d;
    }
    .stock-details {
      color: #555;
      font-size: 0.9rem;
      margin-left: 1rem;
      flex: 1 1 auto;
      text-align: right;
    }
    .currency-usd {
      color: #0077cc;
      font-weight: 700;
    }
    .currency-dkk {
      color: #0b1e3d;
      font-weight: 700;
    }
    .afkast {
      color: #009933;
      font-weight: 600;
    }
    .analysis-btn {
      background-color: #0b1e3d;
      border: none;
      color: white;
      padding: 0.5rem 1rem;
      border-radius: 6px;
      cursor: pointer;
      font-weight: 600;
      transition: background-color 0.3s ease;
      margin-top: 0.5rem;
    }
    .analysis-btn:hover {
      background-color: #005f99;
    }

    /* Modal */
    #modalOverlay {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0,0,0,0.5);
      display: none;
      justify-content: center;
      align-items: center;
      padding: 1rem;
      z-index: 2000;
    }
    #modalOverlay.active {
      display: flex;
    }
    #modalContent {
      background: white;
      padding: 2rem 2.5rem;
      border-radius: 12px;
      max-width: 600px;
      max-height: 80vh;
      overflow-y: auto;
      box-shadow: 0 8px 20px rgba(0,0,0,0.25);
      color: #0b1e3d;
      position: relative;
      font-size: 1rem;
      line-height: 1.6;
      font-weight: 400;
    }
    #modalTitle {
      font-size: 1.75rem;
      margin-bottom: 1.2rem;
      font-weight: 700;
      color: #0b1e3d;
      border-bottom: 2px solid #00ccff;
      padding-bottom: 0.4rem;
    }
    #modalText p {
      margin-bottom: 1rem;
      text-align: justify;
      color: #153c5d;
    }
    #modalCloseBtn {
      position: absolute;
      top: 12px;
      right: 18px;
      background: none;
      border: none;
      font-size: 2rem;
      font-weight: 700;
      cursor: pointer;
      color: #0b1e3d;
      transition: color 0.3s ease;
    }
    #modalCloseBtn:hover {
      color: #00ccff;
    }

    footer {
      background-color: #0b1e3d;
      color: white;
      text-align: center;
      padding: 1rem 0;
      font-size: 0.9rem;
      position: relative;
      bottom: 0;
      width: 100%;
      height: 60px;
      line-height: 60px;
      font-weight: 400;
    }

    @media(max-width: 768px) {
      ul.menu {
        flex-direction: column;
        gap: 1rem;
      }
      .dropdown {
        position: static;
        box-shadow: none;
        background: none;
        padding: 0;
      }
      .dropdown a {
        padding-left: 1rem;
      }
      .stock-details {
        text-align: left;
        margin-left: 0;
        margin-top: 0.25rem;
        flex-basis: 100%;
      }
    }
  </style>
</head>
<body>

<header>
  <div class="logo">
    <a href="index.html"><img src="FGlogo.png" alt="FormueGuiden logo" class="logo-img" /></a>
  </div>
  <nav>
    <ul class="menu">
      <li>
        <a href="#">Blog</a>
        <div class="dropdown">
          <a href="begynderguide.html">Begynderguide</a>
          <a href="formuehistorier.html">Formuehistorier</a>
          <a href="valg-af-platform.html">Valg af platform</a>
        </div>
      </li>
      <li>
        <a href="#">Eksklusivt</a>
        <div class="dropdown">
          <a href="portefolje.html">Porteføljen</a>
        </div>
      </li>
      <li>
        <a href="#">Om os</a>
        <div class="dropdown">
          <a href="team.html">Teamet</a>
          <a href="vision.html">Vores vision</a>
        </div>
      </li>
      <li><a href="kontakt.html">Kontakt</a></li>
      <li><a href="login.html">Log ind / Opret</a></li>
    </ul>
  </nav>
</header>

<main>
  <h1>Eksklusiv portefølje</h1>
  <canvas id="portfolioChart" aria-label="Portefølje værdi over tid" role="img"></canvas>
  <div id="proContainer"></div>
</main>

<footer>
  &copy; 2025 FormueGuiden ApS. Alle rettigheder forbeholdes.
</footer>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
  // Data for 10 personer med 2 aktier hver og længere analyser med linjeskift til p-opdeling i modal
  const pros = [
    {
      name: "Peter Jensen",
      analysis: `Peter Jensen har en solid tilgang til investering med fokus på stabile vækstaktier. 
Han mener, at langsigtet investering i virksomheder med dokumenteret vækst og stærk finansiel historik giver bedst afkast over tid.
Derfor har han valgt aktier, som har potentiale for både kapitalgevinst og udbytte.

Denne strategi mindsker risikoen for større tab i volatile perioder.

Ved at fokusere på både amerikanske og europæiske markeder søger han også diversifikation.`,
      stocks: [
        { name: "Apple", priceUSD: 172.68, shares: 15, afkast: 0.12 },
        { name: "Novo Nordisk", priceDKK: 990, shares: 20, afkast: 0.08 }
      ]
    },
    {
      name: "Anne Sørensen",
      analysis: `Anne Sørensen prioriterer bæredygtige investeringer. 
Hun vælger virksomheder med grøn profil og god ESG-score.

Hendes portefølje indeholder aktier, der bidrager til en grønnere fremtid, samtidig med at de har et solidt økonomisk fundament.

Anne forventer moderate, men stabile afkast på længere sigt og ønsker at støtte ansvarlige virksomheder.`,
      stocks: [
        { name: "Ørsted", priceDKK: 800, shares: 25, afkast: 0.10 },
        { name: "Tesla", priceUSD: 215.50, shares: 10, afkast: 0.15 }
      ]
    },
    {
      name: "Lars Nielsen",
      analysis: `Lars Nielsen foretrækker value investing, hvor han køber undervurderede aktier med potentiale for genopretning.
Han fokuserer på fundamental analyse og undervurderede sektorer.

Lars' portefølje er koncentreret om finans- og industrisektoren med forventning om, at markedsfejl vil udligne sig.

Denne strategi kan være langsommere, men med potentielt højt afkast, hvis aktierne revalueres.`,
      stocks: [
        { name: "Danske Bank", priceDKK: 90, shares: 50, afkast: 0.05 },
        { name: "Siemens", priceUSD: 120, shares: 12, afkast: 0.06 }
      ]
    },
    {
      name: "Maria Hansen",
      analysis: `Maria Hansen går efter teknologiaktier med højt vækstpotentiale.
Hun følger tech-innovationer tæt og investerer i virksomheder, der driver digital transformation.

Hendes strategi indebærer højere risiko, men også mulighed for væsentlige gevinster.

Maria følger markedet aktivt og justerer løbende sin portefølje.`,
      stocks: [
        { name: "Microsoft", priceUSD: 305.20, shares: 8, afkast: 0.14 },
        { name: "NVIDIA", priceUSD: 620.80, shares: 5, afkast: 0.20 }
      ]
    },
    {
      name: "Kasper Pedersen",
      analysis: `Kasper Pedersen har valgt en blanding af defensive og cykliske aktier.
Han ønsker en balanceret portefølje, som kan klare både op- og nedture i markedet.

Hans investeringer er spredt over sektorer som sundhed, detail og energi.

Dette sikrer stabilitet og potentiale for vækst over tid.`,
      stocks: [
        { name: "Mærsk", priceDKK: 15500, shares: 2, afkast: 0.07 },
        { name: "Novo Nordisk", priceDKK: 990, shares: 10, afkast: 0.08 }
      ]
    },
    {
      name: "Sofie Kristensen",
      analysis: `Sofie Kristensen investerer primært i emerging markets.
Hun ser vækstpotentiale i udviklingslande og vælger aktier med stærk lokal tilstedeværelse.

Sofies portefølje har højere volatilitet, men også mulighed for høje afkast.

Hun følger geopolitisk udvikling nøje for at styre risiko.`,
      stocks: [
        { name: "Alibaba", priceUSD: 105, shares: 20, afkast: 0.18 },
        { name: "Naspers", priceUSD: 45, shares: 30, afkast: 0.15 }
      ]
    },
    {
      name: "Michael Madsen",
      analysis: `Michael Madsen satser på udbytteaktier med stabile cash flows.
Han ønsker løbende indkomst gennem udbytte og vælger virksomheder med stærk cash flow og lav gæld.

Hans portefølje indeholder store selskaber i forsyning og telekommunikation.

Michael ser udbytte som en sikkerhed mod markedsudsving.`,
      stocks: [
        { name: "TDC", priceDKK: 35, shares: 100, afkast: 0.06 },
        { name: "Orsted", priceDKK: 800, shares: 12, afkast: 0.10 }
      ]
    },
    {
      name: "Camilla Larsen",
      analysis: `Camilla Larsen fokuserer på små- og mellemstore virksomheder med vækstpotentiale.
Hun investerer i innovative virksomheder indenfor sundheds- og teknologisektoren.

Porteføljen er risikabel, men med mulighed for høje afkast.

Camilla følger markedet tæt og justerer sine investeringer aktivt.`,
      stocks: [
        { name: "Vestas", priceDKK: 190, shares: 40, afkast: 0.11 },
        { name: "Pandora", priceDKK: 650, shares: 18, afkast: 0.09 }
      ]
    },
    {
      name: "Thomas Andersen",
      analysis: `Thomas Andersen investerer i internationale blue-chip aktier for stabilitet.
Han ønsker at sikre langsigtet vækst med minimal risiko.

Hans portefølje består af globale markedsledere indenfor forskellige sektorer.

Thomas tror på diversifikation og kvalitet frem for spekulation.`,
      stocks: [
        { name: "Coca-Cola", priceUSD: 60, shares: 30, afkast: 0.05 },
        { name: "Nestlé", priceCHF: 110, shares: 20, afkast: 0.04 }
      ]
    },
    {
      name: "Emma Sørensen",
      analysis: `Emma Sørensen har en aktiv investeringsstrategi med fokus på teknologi og grøn energi.
Hun kombinerer kortsigtede positioner med langsigtede investeringer.

Hendes portefølje afspejler markedstendenser og ny teknologi.

Emma følger markedet dagligt og bruger teknisk analyse til timing.`,
      stocks: [
        { name: "Tesla", priceUSD: 215.50, shares: 12, afkast: 0.15 },
        { name: "Ørsted", priceDKK: 800, shares: 15, afkast: 0.10 }
      ]
    }
  ];

  // Konverter evt. CHF til DKK for Thomas Andersen, fx 1 CHF = 7.0 DKK
  pros.forEach(pro => {
    pro.stocks.forEach(stock => {
      if (stock.priceCHF) {
        stock.priceDKK = stock.priceCHF * 7;
        delete stock.priceCHF;
      }
    });
  });

  // Simuler portefølje værdi over 12 uger uden uge-til-uge svingninger
  // (Her simuleres konstant porteføljeværdi uden store sving)
  const weeks = 12;
  const portfolioValues = [];
  // Saml startværdi som sum af alle aktier pr styk x antal
  let totalStartValue = 0;
  pros.forEach(pro => {
    pro.stocks.forEach(stock => {
      const price = stock.priceUSD ?? stock.priceDKK;
      totalStartValue += price * stock.shares;
    });
  });
  // Lad portefølje stige med 1% pr. uge lineært uden svingninger
  for(let i=0; i<weeks; i++) {
    portfolioValues.push(totalStartValue * (1 + 0.01 * i));
  }

  // Vis pros og deres aktier
  const proContainer = document.getElementById('proContainer');

  pros.forEach(pro => {
    const proDiv = document.createElement('div');
    proDiv.classList.add('pro-card');

    const nameH2 = document.createElement('h2');
    nameH2.classList.add('pro-name');
    nameH2.textContent = pro.name;
    proDiv.appendChild(nameH2);

    const ulStocks = document.createElement('ul');
    ulStocks.classList.add('stocks-list');

    pro.stocks.forEach(stock => {
      const li = document.createElement('li');

      const stockNameSpan = document.createElement('span');
      stockNameSpan.classList.add('stock-name');
      stockNameSpan.textContent = stock.name;

      const detailsSpan = document.createElement('span');
      detailsSpan.classList.add('stock-details');

      let priceStr = '';
      if (stock.priceUSD !== undefined) {
        priceStr = `Pris: $${stock.priceUSD.toFixed(2)}`;
      } else if (stock.priceDKK !== undefined) {
        priceStr = `Pris: ${stock.priceDKK.toFixed(2)} DKK`;
      }
      const sharesStr = `Antal: ${stock.shares}`;
      const afkastStr = `Afkast: ${(stock.afkast * 100).toFixed(1)}%`;

      detailsSpan.innerHTML = `${priceStr} | ${sharesStr} | <span class="afkast">${afkastStr}</span>`;

      li.appendChild(stockNameSpan);
      li.appendChild(detailsSpan);
      ulStocks.appendChild(li);
    });

    proDiv.appendChild(ulStocks);

    // Knap til analyse
    const btn = document.createElement('button');
    btn.classList.add('analysis-btn');
    btn.textContent = 'Se analyse';
    btn.addEventListener('click', () => showAnalysis(pro));
    proDiv.appendChild(btn);

    proContainer.appendChild(proDiv);
  });

  // Modal setup
  const modalOverlay = document.createElement('div');
  modalOverlay.id = 'modalOverlay';

  const modalContent = document.createElement('div');
  modalContent.id = 'modalContent';

  const modalCloseBtn = document.createElement('button');
  modalCloseBtn.id = 'modalCloseBtn';
  modalCloseBtn.innerHTML = '&times;';
  modalCloseBtn.addEventListener('click', () => {
    modalOverlay.classList.remove('active');
  });

  const modalTitle = document.createElement('h3');
  modalTitle.id = 'modalTitle';

  const modalText = document.createElement('div');
  modalText.id = 'modalText';

  modalContent.appendChild(modalCloseBtn);
  modalContent.appendChild(modalTitle);
  modalContent.appendChild(modalText);

  modalOverlay.appendChild(modalContent);
  document.body.appendChild(modalOverlay);

  // Show analysis med opdeling i afsnit
  function showAnalysis(pro) {
    modalTitle.textContent = pro.name;
    modalText.innerHTML = '';

    const paragraphs = pro.analysis.split('\n').filter(p => p.trim().length > 0);
    paragraphs.forEach(paragraph => {
      const pEl = document.createElement('p');
      pEl.textContent = paragraph.trim();
      modalText.appendChild(pEl);
    });

    modalOverlay.classList.add('active');
  }

  // Chart.js setup
  const ctx = document.getElementById('portfolioChart').getContext('2d');

  const chart = new Chart(ctx, {
    type: 'line',
    data: {
      labels: Array.from({length: weeks}, (_, i) => `Uge ${i+1}`),
      datasets: [{
        label: 'Porteføljens værdi i DKK',
        data: portfolioValues,
        borderColor: '#00ccff',
        backgroundColor: 'rgba(0,204,255,0.2)',
        fill: true,
        tension: 0.3,
        pointRadius: 5,
        pointHoverRadius: 7,
        borderWidth: 3,
      }]
    },
    options: {
      responsive: true,
      interaction: {
        mode: 'index',
        intersect: false
      },
      scales: {
        y: {
          beginAtZero: false,
          ticks: {
            callback: value => new Intl.NumberFormat('da-DK', {style: 'currency', currency: 'DKK'}).format(value)
          },
          title: {
            display: true,
            text: 'Værdi (DKK)'
          }
        },
        x: {
          title: {
            display: true,
            text: 'Tid (Uger)'
          }
        }
      },
      plugins: {
        legend: {
          labels: {
            color: '#0b1e3d',
            font: {
              weight: 'bold',
              size: 14
            }
          }
        },
        tooltip: {
          callbacks: {
            label: context => {
              return new Intl.NumberFormat('da-DK', {style: 'currency', currency: 'DKK'}).format(context.parsed.y);
            }
          }
        }
      }
    }
  });
</script>

</body>
</html>
