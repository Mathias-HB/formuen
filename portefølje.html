<!DOCTYPE html>
<html lang="da">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>FormueGuiden - Eksklusiv portefølje</title>
  <style>
    /* Kopieret CSS fra din index.html header/footer/menu for konsistens */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #f7f9fc;
      color: #333;
    }
    header {
      background-color: #0b1e3d;
      padding: 1rem 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      color: white;
      position: relative;
      z-index: 1000;
    }
    .logo {
      display: flex;
      align-items: center;
    }
    .logo-img {
      height: 88px;
      width: auto;
      display: block;
    }
    nav {
      position: relative;
    }
    ul.menu {
      list-style: none;
      display: flex;
      gap: 2rem;
    }
    ul.menu > li {
      position: relative;
    }
    ul.menu > li > a {
      color: white;
      text-decoration: none;
      font-weight: 500;
      padding: 0.5rem;
      display: block;
      transition: color 0.2s ease;
    }
    ul.menu > li:hover > a {
      color: #00ccff;
    }
    .dropdown {
      position: absolute;
      top: 100%;
      left: 0;
      background: white;
      padding: 1rem;
      border-radius: 6px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
      display: none;
      flex-direction: column;
      min-width: 200px;
      z-index: 999;
    }
    .dropdown a {
      color: #0b1e3d;
      text-decoration: none;
      padding: 0.4rem 0;
    }
    .dropdown a:hover {
      color: #0077cc;
    }
    ul.menu > li:hover .dropdown {
      display: flex;
    }
    main {
      max-width: 1100px;
      margin: 2rem auto 4rem;
      background: white;
      padding: 2rem;
      border-radius: 10px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
      color: #153c5d;
    }
    h1 {
      text-align: center;
      margin-bottom: 2rem;
      color: #0b1e3d;
      font-weight: 700;
    }
    #portfolioChart {
      max-width: 100%;
      height: 300px;
      margin-bottom: 2rem;
    }

    /* Pro kort styling */
    .pro-card {
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 1rem 1.5rem;
      margin-bottom: 1.5rem;
      background: #f9faff;
      box-shadow: 0 2px 6px rgba(11,30,61,0.1);
    }
    .pro-name {
      font-weight: 700;
      font-size: 1.25rem;
      color: #0b1e3d;
      margin-bottom: 1rem;
    }
    .stocks-list {
      list-style: none;
      padding-left: 0;
      margin-bottom: 1rem;
    }
    .stocks-list li {
      margin-bottom: 0.6rem;
      font-size: 1rem;
      display: flex;
      justify-content: space-between;
      flex-wrap: wrap;
    }
    .stock-name {
      font-weight: 600;
      color: #153c5d;
    }
    .stock-details {
      color: #555;
      font-size: 0.9rem;
      margin-left: 1rem;
      flex: 1 1 auto;
      text-align: right;
    }
    .currency-usd {
      color: #0077cc;
      font-weight: 700;
    }
    .currency-dkk {
      color: #0b1e3d;
      font-weight: 700;
    }
    .afkast {
      color: #009933;
      font-weight: 600;
    }
    .analysis-btn {
      background-color: #0b1e3d;
      border: none;
      color: white;
      padding: 0.5rem 1rem;
      border-radius: 6px;
      cursor: pointer;
      font-weight: 600;
      transition: background-color 0.3s ease;
      margin-top: 0.5rem;
    }
    .analysis-btn:hover {
      background-color: #005f99;
    }

    /* Modal */
    #modalOverlay {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0,0,0,0.5);
      display: none;
      justify-content: center;
      align-items: center;
      padding: 1rem;
      z-index: 2000;
    }
    #modalOverlay.active {
      display: flex;
    }
    #modalContent {
      background: white;
      padding: 1.5rem 2rem;
      border-radius: 10px;
      max-width: 600px;
      max-height: 80vh;
      overflow-y: auto;
      box-shadow: 0 8px 20px rgba(0,0,0,0.2);
      color: #0b1e3d;
      position: relative;
    }
    #modalTitle {
      font-size: 1.5rem;
      margin-bottom: 1rem;
      font-weight: 700;
    }
    #modalText {
      font-size: 1rem;
      line-height: 1.5;
      white-space: pre-wrap;
    }
    #modalCloseBtn {
      position: absolute;
      top: 10px;
      right: 15px;
      background: none;
      border: none;
      font-size: 1.5rem;
      font-weight: 700;
      cursor: pointer;
      color: #0b1e3d;
    }

    footer {
      background-color: #0b1e3d;
      color: white;
      text-align: center;
      padding: 1rem 0;
      font-size: 0.9rem;
      position: relative;
      bottom: 0;
      width: 100%;
      height: 60px;
      line-height: 60px;
      font-weight: 400;
    }

    @media(max-width: 768px) {
      ul.menu {
        flex-direction: column;
        gap: 1rem;
      }
      .dropdown {
        position: static;
        box-shadow: none;
        background: none;
        padding: 0;
      }
      .dropdown a {
        padding-left: 1rem;
      }
      .stock-details {
        text-align: left;
        margin-left: 0;
        margin-top: 0.25rem;
        flex-basis: 100%;
      }
    }
  </style>
</head>
<body>

<header>
  <div class="logo">
    <a href="index.html"><img src="FGlogo.png" alt="FormueGuiden logo" class="logo-img" /></a>
  </div>
  <nav>
    <ul class="menu">
      <li>
        <a href="#">Blog</a>
        <div class="dropdown">
          <a href="begynderguide.html">Begynderguide</a>
          <a href="formuehistorier.html">Formuehistorier</a>
          <a href="valg-af-platform.html">Valg af platform</a>
        </div>
      </li>
      <li>
        <a href="#">Eksklusivt</a>
        <div class="dropdown">
          <a href="portefolje.html">Porteføljen</a>
        </div>
      </li>
      <li>
        <a href="#">Om os</a>
        <div class="dropdown">
          <a href="team.html">Teamet</a>
          <a href="vision.html">Vores vision</a>
        </div>
      </li>
      <li><a href="kontakt.html">Kontakt</a></li>
      <li><a href="login.html">Log ind / Opret</a></li>
    </ul>
  </nav>
</header>

<main>
  <h1>Eksklusiv portefølje</h1>
  <canvas id="portfolioChart" aria-label="Portefølje værdi over tid" role="img"></canvas>
  <div id="proContainer"></div>
</main>

<footer>
  &copy; 2025 FormueGuiden ApS. Alle rettigheder forbeholdes.
</footer>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
  const pros = [
    {
      name: "Peter Jensen",
      analysis: `Peter Jensen fokuserer på stabile vækstaktier med en stærk historik, der har vist vedvarende vækst over flere årtier. Han prioriterer virksomheder med solid ledelse, stærke produktporteføljer og evnen til at tilpasse sig markedsændringer. Peters strategi er at investere i selskaber, der kombinerer innovation med økonomisk robusthed, hvilket typisk mindsker risikoen i porteføljen. Hans valg af Apple og Novo Nordisk reflekterer denne tilgang, da begge virksomheder har global tilstedeværelse og leder inden for deres respektive sektorer. Peter lægger desuden vægt på langsigtet vækst og regelmæssig geninvestering af udbytte, hvilket bidrager til kumulativ formueopbygning.`,
      stocks: [
        { name: "Apple", afkast: 0.12 },   // 12% p.a.
        { name: "Novo Nordisk", afkast: 0.09 }
      ]
    },
    {
      name: "Maria Hansen",
      analysis: `Maria Hansen satser primært på teknologisektoren, hvor der er større volatilitet, men også mulighed for højere afkast. Hun følger nøje trends inden for elbiler og vedvarende energi, og har en investeringshorisont, der tillader midlertidige udsving. Hendes investering i Tesla og Vestas er strategisk positioneret for at drage fordel af den globale omstilling mod grøn energi og elektrificering af transport. Maria analyserer løbende teknologiske fremskridt og markedsdynamikker for at optimere sine positioner og anvender ofte teknisk analyse kombineret med fundamental research for at træffe beslutninger.`,
      stocks: [
        { name: "Tesla", afkast: 0.18 },
        { name: "Vestas", afkast: 0.10 }
      ]
    },
    {
      name: "Lars Nielsen",
      analysis: `Lars Nielsen foretrækker en konservativ tilgang med fokus på stabile, dividendebetalende selskaber, som giver løbende indkomst til porteføljen. Han prioriterer virksomheder med stærk økonomi og forudsigelig cash flow, hvilket giver en vis sikkerhed i usikre tider. Med investeringer i Mærsk og Coloplast søger Lars at balancere sin portefølje mellem industri og sundhedssektoren, som begge har vist robusthed selv under økonomiske nedgangsperioder. Lars' strategi inkluderer regelmæssig geninvestering af udbytte og en disciplineret genbalancering for at fastholde risikoprofilen.`,
      stocks: [
        { name: "Mærsk", afkast: 0.07 },
        { name: "Coloplast", afkast: 0.08 }
      ]
    },
    {
      name: "Sofie Rasmussen",
      analysis: `Sofie Rasmussen fokuserer på emerging markets, hvor vækstpotentialet ofte er højere, men risikoen også kan være større. Hun analyserer politiske og økonomiske faktorer i de lande, hun investerer i, for at finde undervurderede aktier med potentiale for betydelig prisstigning. Sofies portefølje indeholder aktier i selskaber, der er førende inden for infrastruktur og teknologi i vækstlande. Hun kombinerer kvantitativ dataanalyse med feltarbejde for at sikre sig de bedste muligheder. Hendes investering i Alibaba og Samsung reflekterer denne globale og vækstorienterede tilgang.`,
      stocks: [
        { name: "Alibaba", afkast: 0.15 },
        { name: "Samsung", afkast: 0.11 }
      ]
    },
    {
      name: "Anders Mikkelsen",
      analysis: `Anders Mikkelsen har en value-investor tilgang med fokus på at finde undervurderede selskaber, som markedet midlertidigt overser. Han benytter sig af dybdegående finansiel analyse og søger selskaber med stærke balancer og langsigtede vækstmuligheder. Anders lægger vægt på selskaber med lav gæld og høj egenkapital, og han investerer typisk i sektorer som finans og industri, hvor der er klare fundamentale værdier. Hans valg af Danske Bank og Novo Nordisk afspejler denne forsigtige, men langsigtede strategi.`,
      stocks: [
        { name: "Danske Bank", afkast: 0.06 },
        { name: "Novo Nordisk", afkast: 0.09 }
      ]
    },
    {
      name: "Kristine Pedersen",
      analysis: `Kristine Pedersen satser på bæredygtige investeringer og ESG-fokuserede selskaber. Hun vurderer ikke kun finansielle nøgletal, men også miljømæssige og sociale faktorer, der kan påvirke virksomhedens langsigtede performance. Kristine tror på, at ansvarlige investeringer ikke blot gavner planeten, men også giver attraktive afkast over tid. Hendes portefølje inkluderer Ørsted og Vestas, som er blandt pionererne inden for grøn energi, hvilket sikrer eksponering mod fremtidens energiløsninger.`,
      stocks: [
        { name: "Ørsted", afkast: 0.11 },
        { name: "Vestas", afkast: 0.10 }
      ]
    },
    {
      name: "Morten Kristensen",
      analysis: `Morten Kristensen har en teknisk analytiker tilgang, hvor han benytter mønstre i prisudviklingen, volumen og momentum til at træffe hurtige investeringsbeslutninger. Hans strategi er mere aktiv og kræver konstant overvågning af markederne. Morten investerer i aktier som Novo Nordisk og Coloplast, hvor han finder tekniske signaler, der peger på kortsigtede op- eller nedture. Han kombinerer sin tekniske tilgang med risikostyring for at maksimere afkastet og minimere tab.`,
      stocks: [
        { name: "Novo Nordisk", afkast: 0.09 },
        { name: "Coloplast", afkast: 0.08 }
      ]
    },
    {
      name: "Anna Sørensen",
      analysis: `Anna Sørensen prioriterer en diversificeret portefølje med blanding af teknologi, sundhed og industri for at sprede risiko. Hun følger makroøkonomiske trends tæt og tilpasser sin portefølje i takt med ændringer i renteniveauer og globale begivenheder. Hendes valg af Microsoft og Mærsk afspejler denne diversifikation, hvor hun kombinerer en af verdens største tech-giganter med en global transport- og logistikvirksomhed. Anna fokuserer på langsigtet vækst og stabilitet.`,
      stocks: [
        { name: "Microsoft", afkast: 0.13 },
        { name: "Mærsk", afkast: 0.07 }
      ]
    },
    {
      name: "Jakob Larsen",
      analysis: `Jakob Larsen har en højrisiko-høj-afkast strategi og investerer ofte i startups og små teknologivirksomheder med stort potentiale. Han ser efter disruptive teknologier og nye markeder, hvor tidlig indtræden kan give stor gevinst. Jakob kombinerer fundamentale analyser med netværksbaseret research og har en portefølje, der inkluderer Tesla og Alibaba, som begge repræsenterer innovative virksomheder med global rækkevidde. Han er forberedt på større volatilitet i bytte for muligheden for markant afkast.`,
      stocks: [
        { name: "Tesla", afkast: 0.18 },
        { name: "Alibaba", afkast: 0.15 }
      ]
    },
    {
      name: "Camilla Thomsen",
      analysis: `Camilla Thomsen fokuserer på langsigtede investeringer i defensive sektorer som sundhed og forsyning, hvilket giver en stabil portefølje under økonomiske udsving. Hun lægger vægt på selskaber med stærke brandværdier og høj kundeloyalitet. Hendes investeringer i Coloplast og Ørsted er kendetegnet ved lav volatilitet og regelmæssige udbytter. Camilla arbejder med en balanceret tilgang, der kombinerer sikkerhed med tilstrækkelig vækst til at beskytte og øge formuen over tid.`,
      stocks: [
        { name: "Coloplast", afkast: 0.08 },
        { name: "Ørsted", afkast: 0.11 }
      ]
    }
  ];

  const weeks = 53;
  const startInvestPerStock = 50000;
  const proCount = pros.length;

  // Opret ugentlige labels
  const labels = [];
  for(let i = 0; i < weeks; i++) {
    labels.push(`Uge ${i}`);
  }

  // Funktion til at simulere ugentligt afkast med ±2% variation
  function weeklyReturn(annualReturn) {
    const weeklyBase = Math.pow(1 + annualReturn, 1/52) - 1;
    const variation = weeklyBase * (Math.random() * 0.04 - 0.02);
    return weeklyBase + variation;
  }

  // Simuler porteføljens værdi uge for uge
  const portfolioValues = [startInvestPerStock * 2 * proCount]; // Startværdi

  for(let week = 1; week < weeks; week++) {
    let prevVal = portfolioValues[week -1];
    let newVal = 0;

    // For hver pro og deres aktier
    pros.forEach(pro => {
      pro.stocks.forEach(stock => {
        const ret = weeklyReturn(stock.afkast);
        // Beregn startværdi for denne aktie i porteføljen:
        // Deler portefølje ligeligt mellem alle aktier
        // Da vi starter med 50.000 kr pr. aktie, beholder vi væksten relativt
        // Vi kan beregne den relative vækst uge for uge

        // Vi kan gemme akkumuleret vækst for hver aktie per uge:
        // Men for simplificering: start med 50.000 * (1 + ret)^week (ca)

        // Men det giver for stort spring hvis vi regner pr uge uafhængigt,
        // Så vi laver en midlertidig vækst akkumulering for hver aktie:
        // Denne simplificering holder fint til demonstration.

        // Her vælger vi at bruge en vækstfaktor uge-for-uge akkumuleret:
        // For korrekt simulering burde vi huske akkumulering pr aktie.
      });
    });

    // For korrekt simulering laver vi akkumulering uden variation først
    // Så vi laver separat struktur til vækst per aktie
  }

  // For korrekt simulation laver vi akkumuleret værdi pr aktie pr uge:
  const growthPerStock = pros.map(pro => pro.stocks.map(stock => [1])); // uge 0 = 1

  for(let week = 1; week < weeks; week++) {
    pros.forEach((pro, pIndex) => {
      pro.stocks.forEach((stock, sIndex) => {
        const lastGrowth = growthPerStock[pIndex][sIndex][week-1];
        const ret = weeklyReturn(stock.afkast);
        growthPerStock[pIndex][sIndex][week] = lastGrowth * (1 + ret);
      });
    });
  }

  for(let week = 0; week < weeks; week++) {
    let weekSum = 0;
    pros.forEach((pro, pIndex) => {
      pro.stocks.forEach((stock, sIndex) => {
        weekSum += startInvestPerStock * growthPerStock[pIndex][sIndex][week];
      });
    });
    portfolioValues[week] = weekSum;
  }

  // Tegn chart med Chart.js
  const ctx = document.getElementById('portfolioChart').getContext('2d');
  const portfolioChart = new Chart(ctx, {
    type: 'line',
    data: {
      labels,
      datasets: [{
        label: 'Porteføljens værdi (DKK)',
        data: portfolioValues.map(v => Math.round(v)),
        borderColor: '#0b1e3d',
        backgroundColor: 'rgba(11,30,61,0.1)',
        fill: true,
        tension: 0.3,
        pointRadius: 2,
        pointHoverRadius: 5,
      }]
    },
    options: {
      responsive: true,
      plugins: {
        legend: {
          labels: {
            color: '#0b1e3d',
            font: { weight: '600' }
          }
        },
        tooltip: {
          callbacks: {
            label: context => context.parsed.y.toLocaleString('da-DK', { style: 'currency', currency: 'DKK' })
          }
        }
      },
      scales: {
        x: {
          ticks: { color: '#0b1e3d' }
        },
        y: {
          ticks: {
            color: '#0b1e3d',
            callback: val => val.toLocaleString('da-DK', { style: 'currency', currency: 'DKK' })
          },
          beginAtZero: false
        }
      }
    }
  });

  // Vis pros med deres aktier og analyser
  const proContainer = document.getElementById('proContainer');
  pros.forEach(pro => {
    const card = document.createElement('div');
    card.className = 'pro-card';

    const proName = document.createElement('h3');
    proName.className = 'pro-name';
    proName.textContent = pro.name;
    card.appendChild(proName);

    const ul = document.createElement('ul');
    ul.className = 'stocks-list';

    pro.stocks.forEach(stock => {
      const li = document.createElement('li');

      const stockName = document.createElement('span');
      stockName.className = 'stock-name';
      stockName.textContent = stock.name;

      const startVal = startInvestPerStock;
      const endVal = startVal * Math.pow(1 + stock.afkast, 1);

      const stockDetails = document.createElement('span');
      stockDetails.className = 'stock-details currency-dkk';
      stockDetails.textContent = `${startVal.toLocaleString('da-DK')} kr → ${Math.round(endVal).toLocaleString('da-DK')} kr (${(stock.afkast*100).toFixed(1)}% p.a.)`;

      li.appendChild(stockName);
      li.appendChild(stockDetails);
      ul.appendChild(li);
    });

    card.appendChild(ul);

    const btn = document.createElement('button');
    btn.className = 'analysis-btn';
    btn.textContent = 'Se analyse';
    btn.addEventListener('click', () => openModal(pro.name, pro.analysis));
    card.appendChild(btn);

    proContainer.appendChild(card);
  });

  // Modal funktionalitet
  const modalOverlay = document.createElement('div');
  modalOverlay.id = 'modalOverlay';

  modalOverlay.innerHTML = `
    <div id="modalContent" role="dialog" aria-modal="true" aria-labelledby="modalTitle" tabindex="-1">
      <button id="modalCloseBtn" aria-label="Luk modal">×</button>
      <h2 id="modalTitle"></h2>
      <p id="modalText"></p>
    </div>
  `;

  document.body.appendChild(modalOverlay);

  const modalTitle = document.getElementById('modalTitle');
  const modalText = document.getElementById('modalText');
  const modalCloseBtn = document.getElementById('modalCloseBtn');

  function openModal(title, text) {
    modalTitle.textContent = title;
    modalText.textContent = text;
    modalOverlay.classList.add('active');
    modalCloseBtn.focus();
  }
  function closeModal() {
    modalOverlay.classList.remove('active');
  }

  modalCloseBtn.addEventListener('click', closeModal);
  modalOverlay.addEventListener('click', e => {
    if(e.target === modalOverlay) closeModal();
  });
  document.addEventListener('keydown', e => {
    if(e.key === 'Escape' && modalOverlay.classList.contains('active')) closeModal();
  });
</script>

</body>
</html>
