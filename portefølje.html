<!DOCTYPE html>
<html lang="da">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Eksklusiv Portefølje</title>
  <style>
    /* Global styles (samme som index.html) */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #f7f9fc;
      color: #333;
    }
    header {
      background-color: #0b1e3d;
      padding: 1rem 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      color: white;
      position: relative;
      z-index: 1000;
    }
    .logo {
      display: flex;
      align-items: center;
    }
    .logo-img {
      height: 88px;
      width: auto;
      display: block;
    }
    nav {
      position: relative;
    }
    ul.menu {
      list-style: none;
      display: flex;
      gap: 2rem;
    }
    ul.menu > li {
      position: relative;
    }
    ul.menu > li > a {
      color: white;
      text-decoration: none;
      font-weight: 500;
      padding: 0.5rem;
      display: block;
      transition: color 0.2s ease;
    }
    ul.menu > li:hover > a {
      color: #00ccff;
    }
    .dropdown {
      position: absolute;
      top: 100%;
      left: 0;
      background: white;
      padding: 1rem;
      border-radius: 6px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
      display: none;
      flex-direction: column;
      min-width: 200px;
      z-index: 999;
    }
    .dropdown a {
      color: #0b1e3d;
      text-decoration: none;
      padding: 0.4rem 0;
    }
    .dropdown a:hover {
      color: #0077cc;
    }
    ul.menu > li:hover .dropdown {
      display: flex;
    }

    @media(max-width: 768px) {
      ul.menu {
        flex-direction: column;
        gap: 1rem;
      }
      .dropdown {
        position: static;
        box-shadow: none;
        background: none;
        padding: 0;
      }
      .dropdown a {
        padding-left: 1rem;
      }
    }

    /* Eksklusiv Portefølje side styles */
    main {
      max-width: 900px;
      margin: 40px auto 80px;
      padding: 0 15px;
      color: #0b1e3d;
    }
    header.page-header {
      background: #e9f0f8;
      padding: 30px 20px;
      text-align: center;
      box-shadow: 0 2px 6px rgba(11,30,61,0.1);
      margin-bottom: 40px;
      color: #003f5c;
    }
    header.page-header h1 {
      margin: 0;
      font-weight: 700;
      font-size: 2.5rem;
      letter-spacing: 0.05em;
    }

    #chartWrapper {
      background: white;
      padding: 20px 30px 30px;
      border-radius: 8px;
      box-shadow: 0 5px 12px rgb(11 30 61 / 0.1);
      margin-bottom: 40px;
    }
    canvas {
      max-height: 350px;
      width: 100% !important;
    }

    #proContainer {
      display: grid;
      grid-template-columns: repeat(auto-fit,minmax(280px,1fr));
      gap: 24px;
    }
    .pro-card {
      background: white;
      border-radius: 8px;
      padding: 20px 22px;
      box-shadow: 0 2px 8px rgb(11 30 61 / 0.05);
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }
    .pro-name {
      font-weight: 700;
      font-size: 1.3rem;
      margin-bottom: 12px;
      color: #2f4b7c;
    }
    .stocks-list {
      list-style: none;
      padding-left: 0;
      margin: 0 0 16px 0;
    }
    .stocks-list li {
      font-size: 0.95rem;
      margin-bottom: 6px;
      color: #556b8b;
      display: flex;
      justify-content: space-between;
    }
    .stock-name {
      font-weight: 600;
      color: #0b1e3d;
    }
    .afkast {
      font-style: italic;
      color: #8fbcbb;
    }
    .analysis-btn {
      background: #003f5c;
      color: white;
      border: none;
      border-radius: 4px;
      padding: 9px 14px;
      cursor: pointer;
      font-weight: 600;
      transition: background-color 0.3s ease;
      align-self: flex-start;
    }
    .analysis-btn:hover,
    .analysis-btn:focus {
      background: #2f4b7c;
      outline: none;
    }

    /* Modal */
    #modalOverlay {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(11,30,61,0.7);
      display: none;
      justify-content: center;
      align-items: center;
      padding: 20px;
      z-index: 9999;
    }
    #modalOverlay.active {
      display: flex;
    }
    #modalContent {
      background: white;
      max-width: 680px;
      max-height: 80vh;
      overflow-y: auto;
      padding: 24px 30px;
      border-radius: 8px;
      box-shadow: 0 10px 30px rgb(11 30 61 / 0.2);
      position: relative;
      outline: none;
    }
    #modalCloseBtn {
      position: absolute;
      top: 14px;
      right: 20px;
      font-size: 26px;
      background: none;
      border: none;
      cursor: pointer;
      color: #8fbcbb;
      font-weight: 700;
      transition: color 0.2s ease;
    }
    #modalCloseBtn:hover,
    #modalCloseBtn:focus {
      color: #003f5c;
      outline: none;
    }
    #modalTitle {
      margin-top: 0;
      font-weight: 700;
      color: #003f5c;
      margin-bottom: 16px;
      font-size: 1.8rem;
      border-bottom: 2px solid #8fbcbb;
      padding-bottom: 6px;
    }
    .analysis-section {
      margin-bottom: 22px;
    }
    .analysis-section h3 {
      color: #2f4b7c;
      margin-bottom: 8px;
      font-weight: 700;
      font-size: 1.2rem;
    }
    .analysis-section p {
      line-height: 1.5;
      color: #556b8b;
      font-size: 1rem;
    }

    footer {
      text-align: center;
      padding: 1.5rem;
      background-color: #0b1e3d;
      color: white;
      font-size: 0.9rem;
      margin-top: 4rem;
    }
  </style>
</head>
<body>

<header>
  <div class="logo">
    <img src="FGlogo.png" alt="FormueGuiden logo" class="logo-img" />
  </div>
  <nav>
    <ul class="menu" role="menubar">
      <li role="none">
        <a href="#" role="menuitem" aria-haspopup="true" aria-expanded="false">Blog</a>
        <div class="dropdown" role="menu">
          <a href="begynderguide.html" role="menuitem">Begynderguide</a>
          <a href="formuehistorier.html" role="menuitem">Formuehistorier</a>
          <a href="valg-af-platform.html" role="menuitem">Valg af platform</a>
        </div>
      </li>
      <li role="none">
        <a href="#" role="menuitem" aria-haspopup="true" aria-expanded="false">Eksklusivt</a>
        <div class="dropdown" role="menu">
          <a href="portefølje.html" role="menuitem">Portefølje</a>
          <a href="analyser.html" role="menuitem">Analyser</a>
          <a href="investorer.html" role="menuitem">Investorer</a>
        </div>
      </li>
      <li role="none"><a href="om-os.html" role="menuitem">Om os</a></li>
      <li role="none"><a href="kontakt.html" role="menuitem">Kontakt</a></li>
    </ul>
  </nav>
</header>

<header class="page-header" role="banner" aria-label="Side titel">
  <h1>Eksklusiv Portefølje</h1>
</header>

<main>
  <section id="chartWrapper" aria-label="Porteføljens samlede værdi over 12 uger">
    <canvas id="portfolioChart" role="img" aria-label="Graf over porteføljens værdi"></canvas>
  </section>

  <section id="proContainer" aria-live="polite" aria-label="Liste over investorer og deres aktier">
    <!-- JS indsætter investorer her -->
  </section>
</main>

<footer>
  &copy; 2025 FormueGuiden. Alle rettigheder forbeholdes.
</footer>

<!-- Modal til analyser -->
<div id="modalOverlay" role="dialog" aria-modal="true" aria-labelledby="modalTitle" tabindex="-1">
  <div id="modalContent">
    <button id="modalCloseBtn" aria-label="Luk analyse modal">&times;</button>
    <h2 id="modalTitle">Analyse</h2>
    <div id="modalText"></div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
  // Data for investorer og aktier
  const pros = [
    {
      name: "Peter Nielsen",
      analysis: `
        <div class="analysis-section">
          <p>Jeg har valgt en portefølje med en god balance mellem teknologi og stabile forbrugsselskaber for at sprede risikoen og sikre et solidt afkast over tid.</p>
        </div>
        <div class="analysis-section">
          <h3>Microsoft</h3>
          <p>Microsoft har en stærk position inden for cloud computing og software, hvilket gør dem til en robust aktie med vedvarende vækstpotentiale. Virksomheden har en diversificeret produktportefølje og klarer sig godt i både enterprise- og forbrugermarkederne.</p>
        </div>
        <div class="analysis-section">
          <h3>Coloplast</h3>
          <p>Coloplast er en førende aktør inden for medicinsk udstyr med fokus på innovative løsninger til kroniske sygdomme. Deres produkter har høj efterspørgsel globalt, og de nyder godt af demografiske trends og stigende sundhedsudgifter.</p>
        </div>
      `,
      stocks: [
        { name: "Microsoft", afkast: 0.10 },
        { name: "Coloplast", afkast: 0.07 }
      ]
    },
    {
      name: "Mette Hansen",
      analysis: `
        <div class="analysis-section">
          <p>Jeg vælger vækstaktier inden for teknologi og vedvarende energi, da jeg forventer stor innovationskraft og øget fokus på bæredygtighed fremover.</p>
        </div>
        <div class="analysis-section">
          <h3>Alphabet (Google)</h3>
          <p>Alphabet dominerer inden for søgning og digital annoncering, og deres massive investeringer i AI og cloud kan åbne nye indtjeningsmuligheder. Aktiens værdi er stadig attraktiv i forhold til det langsigtede vækstpotentiale.</p>
        </div>
        <div class="analysis-section">
          <h3>Vestas</h3>
          <p>Vestas er en af verdens største producenter af vindmøller, hvilket placerer dem godt i den grønne omstilling. Efterspørgslen på vedvarende energi stiger globalt, og Vestas har gode muligheder for at øge sin markedsandel.</p>
        </div>
      `,
      stocks: [
        { name: "Alphabet", afkast: 0.14 },
        { name: "Vestas", afkast: 0.08 }
      ]
    },
    {
      name: "Thomas Kristensen",
      analysis: `
        <div class="analysis-section">
          <p>Jeg satser på stabile industrivirksomheder, som giver en sikker base med gode udbytter og stabil indtjening i både gode og dårlige tider.</p>
        </div>
        <div class="analysis-section">
          <h3>Siemens</h3>
          <p>Siemens er en global leder inden for industri- og infrastrukturteknologi med en bred portefølje, der understøtter bæredygtighed og digitalisering.</p>
        </div>
        <div class="analysis-section">
          <h3>Novozymes</h3>
          <p>Novozymes fokuserer på bioteknologiske løsninger og enzymer, som hjælper med at gøre industrielle processer mere bæredygtige og effektive.</p>
        </div>
      `,
      stocks: [
        { name: "Siemens", afkast: 0.06 },
        { name: "Novozymes", afkast: 0.05 }
      ]
    },
    {
      name: "Anna Sørensen",
      analysis: `
        <div class="analysis-section">
          <p>Min portefølje fokuserer på danske blue chips og finansielle aktier, som giver stabilitet og solide udbytter.</p>
        </div>
        <div class="analysis-section">
          <h3>Danske Bank</h3>
          <p>Danske Bank har en stærk position i det nordiske marked og arbejder målrettet på digital transformation og risikostyring.</p>
        </div>
        <div class="analysis-section">
          <h3>Carlsberg</h3>
          <p>Carlsberg er en global bryggerikoncern med stærke brands og fokus på bæredygtighed i produktionen.</p>
        </div>
      `,
      stocks: [
        { name: "Danske Bank", afkast: 0.04 },
        { name: "Carlsberg", afkast: 0.05 }
      ]
    },
    {
      name: "Jens Møller",
      analysis: `
        <div class="analysis-section">
          <p>Jeg satser på emerging markets og teknologi, der kan skabe høje afkast på lang sigt.</p>
        </div>
        <div class="analysis-section">
          <h3>Tencent</h3>
          <p>Tencent er en kinesisk tech-gigant med stor tilstedeværelse i sociale medier, gaming og finansielle tjenester.</p>
        </div>
        <div class="analysis-section">
          <h3>Samsung</h3>
          <p>Samsung er en global leder inden for elektronik og halvledere med stærk innovationskraft.</p>
        </div>
      `,
      stocks: [
        { name: "Tencent", afkast: 0.12 },
        { name: "Samsung", afkast: 0.09 }
      ]
    }
  ];

  // Funktion til at formatere pro-kort
  function createProCard(pro, index) {
    const card = document.createElement("article");
    card.className = "pro-card";
    card.setAttribute("tabindex", "0");
    card.setAttribute("aria-describedby", `proDesc${index}`);

    const nameEl = document.createElement("h2");
    nameEl.className = "pro-name";
    nameEl.textContent = pro.name;
    card.appendChild(nameEl);

    const ul = document.createElement("ul");
    ul.className = "stocks-list";
    pro.stocks.forEach(stock => {
      const li = document.createElement("li");
      const stockName = document.createElement("span");
      stockName.className = "stock-name";
      stockName.textContent = stock.name;
      const afkast = document.createElement("span");
      afkast.className = "afkast";
      afkast.textContent = `${(stock.afkast * 100).toFixed(1)}% afkast`;
      li.appendChild(stockName);
      li.appendChild(afkast);
      ul.appendChild(li);
    });
    card.appendChild(ul);

    const btn = document.createElement("button");
    btn.className = "analysis-btn";
    btn.textContent = "Se analyse";
    btn.setAttribute("aria-controls", "modalOverlay");
    btn.setAttribute("aria-expanded", "false");
    btn.addEventListener("click", () => openModal(pro));
    card.appendChild(btn);

    return card;
  }

  function openModal(pro) {
    const modal = document.getElementById("modalOverlay");
    const modalText = document.getElementById("modalText");
    const modalTitle = document.getElementById("modalTitle");

    modalTitle.textContent = pro.name + " - Analyse";
    modalText.innerHTML = pro.analysis;

    modal.classList.add("active");
    modal.focus();
  }

  function closeModal() {
    const modal = document.getElementById("modalOverlay");
    modal.classList.remove("active");
  }

  // Tilføj investorer til siden
  const proContainer = document.getElementById("proContainer");
  pros.forEach((pro, i) => {
    const card = createProCard(pro, i);
    proContainer.appendChild(card);
  });

  // Modal luk knap
  document.getElementById("modalCloseBtn").addEventListener("click", closeModal);
  document.getElementById("modalOverlay").addEventListener("click", e => {
    if (e.target === e.currentTarget) closeModal();
  });

  // Luk modal med Esc
  document.addEventListener("keydown", e => {
    if (e.key === "Escape") closeModal();
  });

  // Chart.js opsætning - porteføljens samlede værdi over 12 uger
  const ctx = document.getElementById("portfolioChart").getContext("2d");

  // Simuleret data (kan tilpasses)
  const weeks = [...Array(12).keys()].map(i => `Uge ${i + 1}`);
  const portfolioValues = [100000, 103000, 105500, 110000, 108000, 112000, 115000, 118000, 120000, 123000, 125000, 128000];

  const chart = new Chart(ctx, {
    type: 'line',
    data: {
      labels: weeks,
      datasets: [{
        label: 'Porteføljens værdi (DKK)',
        data: portfolioValues,
        borderColor: '#003f5c',
        backgroundColor: 'rgba(0, 63, 92, 0.2)',
        fill: true,
        tension: 0.3,
        pointRadius: 5,
        pointHoverRadius: 7,
        borderWidth: 3,
      }]
    },
    options: {
      responsive: true,
      plugins: {
        legend: {
          labels: {
            color: '#0b1e3d',
            font: { weight: '600' }
          }
        },
        tooltip: {
          mode: 'index',
          intersect: false,
        }
      },
      scales: {
        y: {
          beginAtZero: false,
          ticks: {
            callback: val => val.toLocaleString('da-DK', { style: 'currency', currency: 'DKK' }),
            color: '#0b1e3d',
            font: { weight: '600' }
          },
          grid: { color: 'rgba(11,30,61,0.1)' }
        },
        x: {
          ticks: {
            color: '#0b1e3d',
            font: { weight: '600' }
          },
          grid: { color: 'rgba(11,30,61,0.1)' }
        }
      }
    }
  });
</script>
</body>
</html>
